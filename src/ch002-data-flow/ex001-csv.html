<!DOCTYPE html>
<html>
    <head>
        <title>CSV 활용</title>
        <meta charset="utf-8" />
        <script src="https://d3js.org/d3.v7.min.js"></script>
    </head>
    <body>
        <h1>CSV 활용</h1>
        <div></div>
        <script>
            function dataViz(incomingData) {
                d3.select('body')
                    .selectAll('div.cities')
                    .data(incomingData) // data를 selection에 바인딩
                    .enter() // 이하는 selection 안에 있는 DOM element보다 data가 더 많을 때에 대한 저의
                    .append('div')
                    .attr('class', 'cities')
                    .html(function (d, i) {
                        return d.label
                    })
            }

            const citiesCsvStr = `"label","population","country","x","y"
"San Francisco", 750000,"USA",37,-122
"Fresno", 500000,"USA",36,-119
"Lahore",12500000,"Pakistan",31,74
"Karachi",13000000,"Pakistan",24,67
"Rome",2500000,"Italy",41,12
"Naples",1000000,"Italy",40,14
"Rio",12300000,"Brazil",-22,-43
"Sao Paolo",12300000,"Brazil",-23,-46 
`

            dataViz(d3.csvParse(citiesCsvStr))
        </script>
    </body>
</html>
